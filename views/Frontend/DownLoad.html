<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <title>Document</title>
</head>
<style>
    

/* Navbar Styles */
.navbar {
    z-index: 1500;
    top: 0px;
    position: sticky;
  background-color: #041b95e6;
}

.navbar-brand img {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  border: 3px solid rgb(255, 145, 0);
}

.nav-link {
  color: white !important;
  
  font-size: 1.1rem !important;
  font-weight: 700;
  /* font-weight: bold; */
}

.nav-link:hover {
  color: #ddd !important;
}

.login-btn {
  padding: 6px 15px;
  border-radius: 10px;
  background-color: rgb(6, 99, 192);
  color: white;
  transition: background-color 0.3s ease;
}

.login-btn:hover {
  background-color: rgb(5, 89, 172);
}


.btn-primary {
  background-color: rgb(6, 99, 192);
  border-color: rgb(6, 99, 192);
  border-radius: 10px;
  font-weight: bold;
  transition: background-color 0.3s ease;
}

.btn-primary:hover {
  background-color: rgb(5, 89, 172);
}


@media (max-width: 768px) {
            .navbar-nav {
                text-align: center;
            }
            .navbar-toggler {
                border-color: #fff;
            }
            .navbar-toggler-icon {
                background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3E%3Cpath stroke='rgba(255, 255, 255, 1)' stroke-width='2' d='M5 7h20M5 15h20M5 23h20'/%3E%3C/svg%3E");
            }
            .main-box-first {
                padding: 20px;
                text-align: center;
            }
            .loan-left-text {
                font-size: 1.9rem;
            }
            .loan-down-text {
                font-size: 1rem;
            }
            .partner {
                font-size: 1.5rem;
            }
            .gif-box img {
                max-width: 80px;
            }
            .gif-bottom-text {
                font-size: 1rem;
            }
            .gif-box-row {
                gap: 15px;
            }
        }
        .watch-video {
  display: flex;
  justify-content: center;
  margin: 30px 0;
}
/* row main-center-div css start  */
.main-center-div
{
    border: 1px solid black;
    background-color: #ffffff;
    
}
.shubham {
    max-width: 100%;
    background-color: white;
    border: 2px solid rgb(205, 205, 205) !important;
    padding: 2rem !important;
}
.container {
    max-width: 100%;
}

.heading-text {
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    font-size: 3rem; /* Large font size for heading */
    font-weight: 700;
    text-align: center;
    margin: 0 auto 2rem auto; /* Centered with margin at the bottom */
    padding: 1rem;
    color: #343a40; /* Dark color for the heading */
}

.limit-info {
    font-family: 'Arial', sans-serif;
    font-size: 1.2rem;
    font-weight: 500;
    color: #333;
    background-color: #f8f9fa;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Slightly stronger shadow */
    display: flex;
    align-items: center;
    gap: 1rem;
    justify-content: center;
    border: 1px solid rgb(216, 213, 213);
    text-align: center; /* Center the text */
}

.limit-info i {
    font-size: 2rem;
    color: #dc3545; /* Red color for the icon */
}

.limit-text {
    line-height: 1.6;
}

.highlight {
    font-weight: 700;
    color: #007bff; /* Blue color for emphasis */
}

.info-text {
    margin-top: 2rem;
    font-size: 1.1rem;
    color: #555;
    text-align: center;
}

@media (max-width: 768px) {
    .heading-text {
        font-size: 2rem; /* Smaller heading on mobile */
    }

    .limit-info {
        font-size: 1rem;
        padding: 1rem;
    }

    .limit-info i {
        font-size: 1.5rem;
    }
}
/* key point  */
.key-points {
    font-family: 'Arial', sans-serif;
    color: #333;
    border: 1px solid rgb(186, 186, 186);
    background-color: #ffffff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    max-width: 900px;
    /* margin: 0 auto; */
    margin-top: 30px !important;
}

.key-points h3 {
    font-size: 1.5rem;
    color: #007bff;
    margin-bottom: 15px;
}

.key-points ul {
    list-style-type: none;
    padding: 0;
}

.key-points li {
    font-size: 1rem;
    margin-bottom: 10px;
    display: flex;
    align-items: center !important;
}

.key-points li i {
    color: #007bff;
    margin-right: 10px;
    font-size: 1.2rem;
}

@media (max-width: 768px) {
    .key-points {
        padding: 15px;
        max-width: 100%;
    }

    .key-points h3 {
        font-size: 1.3rem;
    }

    .key-points li {
        font-size: 0.9rem;
    }

    .key-points li i {
        font-size: 1rem;
    }
}
.note{
    background-color: rgb(149, 153, 153);
    color: rgb(255, 255, 255);
    font-size: 1.5rem;
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    font-weight: 400;
    padding: 10px;
    border-radius: 10px;
    margin: 30px 0px;
}

.footer {
  background-color: #1d319f;
  color: #ffffff;
  padding: 40px 40px;
}

.section {
  text-align: center;
  margin-bottom: 20px;
}

.connect {
  margin-bottom: 10px;
  font-size: 18px;
  font-weight: bold;
}

.social-links {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 10px;
}

.social-link {
  color: #ffffff;
  font-size: 24px;
  text-decoration: none;
  transition: color 0.3s, transform 0.3s;
}

.social-link:hover {
  color: #007bff;
  transform: scale(1.2);
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 15px;
}

.row {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  text-align: left;
}

.column {
  flex: 1;
  min-width: 220px;
  margin-bottom: 20px;
}

.title {
  font-size: 18px;
  margin-bottom: 15px;
  position: relative;
  font-weight: bold;
}

.title i {
  margin-right: 10px;
}

.highlight-red {
  color: red;
  font-size: 1.8rem;
  font-weight: bold;
}

.highlight-info {
  color: #2fb817;
  font-size: 20px;
  font-weight: bold;
}

.highlight-slateblue {
  color: rgb(90, 205, 136);
  font-size: 20px;
  font-weight: bold;
}

.link {
  color: #007bff;
  text-decoration: none;
  transition: color 0.3s;
}

.link:hover {
  color: #0056b3;
}

.copy {
  text-align: center;
  padding: 15px 0;
  background-color: #b91616;
}

.copy .link {
  color: #ffffff;
}

@media (max-width: 768px) {
  .row {
    flex-direction: column;
  }

  .social-links {
    flex-wrap: wrap;
    gap: 10px;
  }

  .connect {
    font-size: 16px;
  }
}

@media (max-width: 480px) {
  .social-link {
    font-size: 20px;
  }

  .title {
    font-size: 16px;
  }

  .highlight-red, .highlight-info, .highlight-slateblue {
    font-size: 14px;
  }

  .connect {
    font-size: 14px;
  }
}
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.modal-content {
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.hidden {
    display: none
}



</style>
<body style="background-color: rgb(242, 242, 242);">
    <!-- Navbar -->
    <!-- <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="#">
            <img src="/assets/img/quick.png" width="70px" alt="">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">
                        <i class="fas fa-home" style="color: #3498db;"></i> Home
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#AboutUs">
                        <i class="fas fa-info-circle" style="color: #f39c12;"></i> About Us
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/Service">
                        <i class="fas fa-concierge-bell" style="color: #27ae60;"></i> Service
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#HowToApply">
                        <i class="fas fa-book" style="color: #8e44ad;"></i> How To Apply
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/emi">
                        <i class="fas fa-calculator" style="color: #e74c3c;"></i> Check EMI
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/Reg" style="font-size: 16px; font-weight: bold;">
                        <span style="padding: 6px 15px; border-radius: 10px; background-color: #0685c0; color: #fff;">
                            Login
                        </span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="logoutBtn">
                        <i class="fas fa-sign-out-alt" style="color: #e74c3c;"></i> Logout
                    </a>
                </li>
            </ul>
        </div>
    </nav> -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="#"><img src="/assets/img/quick.png" width="70px" alt=""></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/" style="color: #3498db;">
                        <i class="fas fa-home" style="color: #3498db; font-size: 20px;"></i> Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about" style="color: #2ecc71;">
                       <span style="color: palevioletred;">Welcome</span> <span id="username"></span> 
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about" style="color: #2ecc71;">
                        <i class="fas fa-info-circle" style="color: #2ecc71; font-size: 20px;"></i> About Us
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/emi2" style="color: #f1c40f;">
                        <i class="fas fa-calculator" style="color: #f1c40f; font-size: 20px;"></i> Check EMI
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-toggle="modal" data-target="#walletModal" style="color: #23d400;">
                        <i class="fas fa-wallet" style="color: #23d400; font-size: 20px;"></i> Wallet
                    </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" id="logoutBtn" style="color: #e74c3c;">
                      <i class="fas fa-sign-out-alt" style="color: #e74c3c;"></i> Logout
                  </a>
              </li>
            </ul>
        </div>
    </nav>
    

  <style>
    /* Zoom-Out Animation */
@keyframes zoomOut {
  0% {
    transform: scale(1.5);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.limit-info {
  opacity: 0;
  transform: scale(1.5); /* Start with zoomed-in */
  transition: transform 0.8s ease, opacity 0.8s ease;
}

.limit-info.animated {
  animation: zoomOut 0.8s forwards; /* Play the zoom-out animation */
}

  </style>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
    const limitInfo = document.querySelector('.limit-info');
    
    // Automatically add the animated class when the page loads
    if (limitInfo) {
        limitInfo.classList.add('animated'); // Trigger the animation on page load
    }
});

// Example function to update wallet amount (this can be triggered as needed)
function updateWalletAmount(walletAmount) {
    document.querySelectorAll('.walletamttt').forEach(function(element) {
        element.textContent = walletAmount;
    });
}

// Example wallet amount update
updateWalletAmount('₹50,000');

  </script>
<div class="container shubham">
    <h2 class="heading-text">
        Welcome to Our Payment Portal
    </h2>
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="limit-info text-center">
                <i class="fas fa-exclamation-circle"></i> <!-- Font Awesome Icon -->
                <div class="limit-text">
                    Your limit is <span class="walletamttt" style="color: rgb(0, 18, 136);" ></span><br>
                    However, your limit is not active.<br>
                    Please recharge your processing fees to activate it.
                </div>
            </div>
            <p class="animated-p" style="
            font-family: 'Arial', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: #28a745;
            background-color: #f0f9f0;
            padding: 1rem;
            border: 1px solid rgb(217, 217, 217);
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin: 1rem 0;
        ">
            <span style="font-size: 2rem; display: block;">🎉 Congratulations! 🎉</span>
            <span style="color: #007bff;">Your Loan Limit:</span> <span style="color: #ff6347;"  class="walletamttt"></span>
        </p>
        

        <div style="
        font-family: 'Arial', sans-serif;
        color: #333;
        background-color: #f9f9f9;
        padding: 20px;
        border-radius: 10px;
        border: 1px solid rgb(192, 192, 192);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        margin: 0 auto;
        text-align: center;
    ">
        <h2 style="
            font-size: 1.8rem;
            color: #007bff;
            margin-bottom: 15px;
        ">
            <i class="fas fa-handshake"></i> Welcome to the Quik Loan Family
        </h2>
        <p style="
            font-size: 1.2rem;
            margin-bottom: 20px;
        ">
            <i class="fas fa-users"></i> India’s leading NBFC finance company with over 2 lakh happy customers.
        </p>
        <p style="
            font-size: 1rem;
            margin-bottom: 10px;
        ">
            <strong><i class="fas fa-rupee-sign"></i> Your approved loan amount:</strong> <span  class="walletamttt"></span>
        </p>
        <p style="
            font-size: 1rem;
            margin-bottom: 10px;
        ">
            <strong><i class="fas fa-calendar-alt"></i> Repayment period:</strong> 60 days at low interest rates.
        </p>
        <p style="
            font-size: 1rem;
            margin-bottom: 20px;
        ">
            <i class="fas fa-file-invoice-dollar"></i> To activate your loan, please make a one-time processing fee payment of <span id=""></span>.
        </p>
        <p style="
            font-size: 1rem;
            margin-bottom: 20px;
            color: #dc3545;
        ">
            <i class="fas fa-exclamation-triangle"></i> After processing your payment, we will forward you to the insurance page to secure your loan limit.
        </p>
        <p style="
            font-size: 1rem;
            margin-bottom: 20px;
        ">
            <i class="fas fa-check-circle"></i> Once the payment is complete, your loan will be disbursed to your account.
        </p>
        <p style="
            font-size: 1rem;
            margin-bottom: 20px;
        ">
            <i class="fas fa-qrcode"></i> Please pay the activation fee using the company’s QR code shown below, and your loan will be processed and ready for use.
        </p>
          <!-- scaner div  -->
        <div> 
            <h3 style="font-size: 2rem; font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; font-weight: 600; padding: 20px 0px; color: #27ae60;">Processing Fees : <span id="firstcharge"></span></h3>
            <div class="image-container">
                <!-- <img src="/assets/img/scaner.png" alt="Scanner" width="280" height="280"> -->
            </div>
        </div>
    </div>
    <div class="key-points">
        <h3><i class="fas fa-info-circle"></i> Key Points</h3>
       <div class="row">
        <div class="col-md-9">
            <ul>
                <li>
                    <i style="color: rgb(208, 29, 1);" class="fas fa-lock"></i> Easy and secure payment processing.
                </li>
                <li>
                    <i  style="color: yellowgreen;"  class="fas fa-bell"></i> Instant updates on your loan status.
                </li>
                <li>
                    <i class="fas fa-history"></i> Access detailed transaction history anytime.
                </li>
                <li>
                    <i  style="color: rgb(130, 130, 130);"  class="fas fa-chart-line"></i> Real-time monitoring of your loan balance and payments.
                </li>
                <li>
                    <i  style="color: rgb(0, 180, 196);"  class="fas fa-mobile-alt"></i> Convenient mobile access to manage your loans on the go.
                </li>
                <li>
                    <i  style="color: rgb(177, 0, 189);"  class="fas fa-headset"></i> 24/7 customer support to assist you with any queries.
                </li>
            </ul>
           </div>
           <div class="col-md-3">
        <img src="/assets/img/gif7.gif" width="100%" alt="">  
        </div>
       </div>
    </div>
    <div class="note">
        <span style="color: #ff0303; font-weight: 600;">Note</span>: Please ensure your processing fees are up-to-date to activate your loan limit. For any issues or questions, contact our support team.
    </div>
    
        </div>
    </div>
</div>

<div id="modaldata" class="modal" style="display: none;">
    <div class="modal-content" style="text-align: center; padding: 20px; background-color: #ffffff; border-radius: 10px; max-width: 400px; margin: 0 auto; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
        <h2 style="color: #28a745;">🎉 Processing Complete</h2>
        <p><i class="fas fa-check-circle" style="font-size: 48px; color: #28a745;"></i></p>
        <p>Your processing fees have been successfully completed!</p>
        <p class="small-text" style="color: #6c757d;">You will be redirected shortly...</p>
    </div>
</div>

<!-- footer  -->
<footer class="footer">
    <section class="section">
      <div class="connect">
        <span>Get connected with us:</span>
      </div>
     
    </section>

    <section class="container">
      <div class="row">
        <div class="column">
          <h6 class="title"><i class="fas fa-gem"></i> QuickLoan</h6>
          <p>
            We Help to Complete Your Dream. We Provide you
            <span class="highlight-red">Trustable</span>,
            <span class="highlight-info">Scalable</span>,
            and
            <span class="highlight-slateblue">Flexible</span>
            Amount of Loan For Your Dream.
          </p>
        </div>
        <div class="column">
          
        </div>

        <div class="column">
          <h6 class="title">Contact</h6>
          <p id="contact-phone"><i class="fas fa-phone"></i> 35438459354</p>
          <p id="contact-email"><i class="fas fa-envelope"></i> hubhamm@gmail.com</p>
          <p id="contact-address"><i class="fas fa-home"></i> vashali nagar 203045 bloak R</p>
        </div>
      </div>
    </section>

    <div class="copy">
      <a href="#" class="link" id="footer-email">Worldpay472@gmail.com</a>
    </div>
  </footer>
</body>
<script>

document.addEventListener('DOMContentLoaded', async () => {
    const token = localStorage.getItem('tokenData');
    if (!token) {
        window.localhost.href="/"
        // return;
    }

    // Decode JWT Token
    const decodeJWT = (token) => {
        try {
            const base64Url = token.split('.')[1];
            const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            const jsonPayload = decodeURIComponent(atob(base64).split('').map(c =>
                '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)
            ).join(''));

            return JSON.parse(jsonPayload);
        } catch (e) {
            console.error('Error decoding JWT:', e);
            return null;
        }
    };

    const tokenData = decodeJWT(token);
    if (!tokenData || !tokenData.user || !tokenData.user.id) {
        window.localhost.href="/"
    }

    const userId = tokenData.user.id;

    // Show loading indicator
    const loadingElement = document.getElementById('loading');
    const contentElement = document.getElementById('content');

    // Check API Status
    const checkApiStatus = async () => {
        try {
            const response = await fetch(`http://localhost:7500/back/checkStatatSecurity/${userId}`);
            if (!response.ok) throw new Error(`Network response was not ok: ${await response.text()}`);
            
            const data = await response.json();
            console.log(data.Status )
            if (data.Status >= 1) {
                // console.log(data.Status,"data.Status")
            showModal(); // Show the modal when the status is >= 1

            // Wait for 6 seconds, then redirect
            setTimeout(() => {
                window.localhost.href = '/FinalPage';
            }, 6000);
        }
            
        } catch (error) {
            console.error('Error checking API status:', error);
        }
    };

    function showModal() {
    const modal = document.getElementById('modaldata');
    if (modal) {
        modal.style.display = 'flex'; // or 'block', depending on your modal styling
        console.log("Modal is now visible"); // Debug to confirm it's being triggered
    } else {
        console.log("Modal element not found");
    }
}


const fetchCompanyProfile = async () => {
    try {
        // Fetch the company profile data from API
        const response = await fetch(`http://localhost:7500/back/fetchCompanyProfiletwo/${userId}`);
        if (!response.ok) throw new Error(`Network response was not ok: ${await response.text()}`);
        
        const responseData = await response.json();
        if (responseData.success && responseData.data) {
            const { companyProfile, loanTypes, name } = responseData.data;

            // Fetch loan limit (check if loanTypes has data)
            const loanLimit = loanTypes.length > 0 ? loanTypes[0].limit : null;

            // Select all elements with the class 'walletamt'
            const walletAmtElements = document.querySelectorAll('.walletamttt');

            // Update all walletamt elements with the loanLimit value
            walletAmtElements.forEach((element) => {
                element.textContent = loanLimit ? `${loanLimit}` : 'Not Available';
            });

            // Update the other elements
            document.getElementById('username').textContent = `${name}` || null;
            document.getElementById('limitsec').textContent = loanLimit || 'No limit available';
            document.getElementById('payemnt').textContent = companyProfile.charges1 || 'N/A';
            const limitTextElement = document.querySelector('.limit-text');
            limitTextElement.innerHTML = loanLimit
                ? `Your limit is <strong>${loanLimit}</strong>. <br> However, your limit is not active. <br> Please recharge your processing fees to activate it.`
                : `No loan limit found. Please contact support.`;

            // Hide loading and display content
            loadingElement.style.display = 'none';
            contentElement.style.display = 'block';
        } else {
            console.error('Unexpected response format:', responseData);
        }
    } catch (error) {
        console.error('Error fetching company profile:', error);
    }
};


    // Fetch Company Profile Data
    // const fetchCompanyProfile = async () => {
    //     try {
    //         const response = await fetch(`http://localhost:7500/back/fetchCompanyProfiletwo/${userId}`);
    //         if (!response.ok) throw new Error(`Network response was not ok: ${await response.text()}`);
            
    //         const responseData = await response.json();
    //         if (responseData.success && responseData.data) {
    //             const { companyProfile, loanTypes ,name} = responseData.data;
    //             // console.log(companyProfile,"companyProfile")
    //             const loanLimit = loanTypes.length > 0 ? loanTypes[0].limit : null;
    //             const limitText = document.querySelector('.limit');
    //             document.getElementById('limitsec').textContent=loanTypes.length > 0 ? loanTypes[0].limit : null;
    //             document.getElementById('payemnt').textContent= `${companyProfile.charges1}` || null;
    //             document.getElementById('processing').textContent= `${companyProfile.charges1}` || null;
    //             document.getElementById('username').textContent= `${name}` || null;
    //             const walletamttountElement = document.getElementById('walletamtt');
    //         walletamttountElement.textContent = loanLimit ? `${loanLimit}` : 'Not Available';

    //             limitText.innerHTML=loanLimit
    //             const limitTextElement = document.querySelector('.limit-text');

    //             limitTextElement.innerHTML = loanLimit
    //                 ? `Your limit is <strong>${loanLimit}</strong>. <br> However, your limit is not active. <br> Please recharge your processing fees to activate it.`
    //                 : `No loan limit found. Please contact support.`;
    //                 const imageContainer = document.querySelector('.image-container');
    //             // Hide loading indicator and show content
    //             loadingElement.style.display = 'none';
    //             contentElement.style.display = 'block';
    //         } else {
    //             console.error('Unexpected response format:', responseData);
    //         }
    //     } catch (error) {
    //         console.error('Error fetching company profile:', error);
    //     }
    // };

    checkApiStatus();
    await fetchCompanyProfile(); // Ensure data is fetched before setting interval
    setInterval(checkApiStatus, 7500);
});

document.getElementById("logoutBtn").addEventListener("click", function() {
    // Trigger the logout route
    window.localhost.href = "/logout";
  });

  async function fetchLoanType() {
    try {
        const response = await fetch('http://localhost:7500/back/fetchCompanyProfile');
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        const data = await response.json();
        // Update the footer with the company profile information
        updateFooterWithProfile(data);
        
    } catch (error) {
        console.error('Error fetching loan types:', error);
    }
}

// Function to update the footer with company profile information
function updateFooterWithProfile(data) {
    if (data.success && data.data) {
        const profile = data.data;
        
        document.getElementById('contact-phone').innerHTML = `<i class="fas fa-phone"></i> ${profile.contactNo}`;
        document.getElementById('contact-email').innerHTML = `<i class="fas fa-envelope"></i> ${profile.email}`;
        document.getElementById('contact-address').innerHTML = `<i class="fas fa-home"></i> ${profile.address}`;
        document.getElementById('firstcharge').innerHTML= `${profile.charges1}`;
        document.getElementById('footer-email').textContent = profile.email;
        document.getElementById('footer-email').href = `mailto:${profile.email}`;
        // Make sure the companyProfile has the paymentQRCharges1 property
if (profile.paymentQRCharges1) {
    // Log the value to check the correct path
    console.log(profile.paymentQRCharges1);

    // Get the image container
    const imageContainer = document.querySelector('.image-container');
    
    // Check if the container exists
    if (imageContainer) {
        // Create an image element
        const imageElement = document.createElement('img');
        
        // Set the image's src attribute to the correct path
        imageElement.src = profile.paymentQRCharges1;
        
        // Set width, height, and alt attributes
        imageElement.width = 260;
        imageElement.height = 280;
        imageElement.alt = 'Payment QR Code';

        // Append the image to the container
        imageContainer.appendChild(imageElement);
    } else {
        console.error('Image container not found');
    }
} else {
    console.error('paymentQRCharges1 is not available in companyProfile');
}

    } else {
        console.error("Failed to fetch profile data.");
    }
}

// Initialize on DOMContentLoaded
document.addEventListener('DOMContentLoaded', () => {

    fetchLoanType();
});
    </script>


<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</html>